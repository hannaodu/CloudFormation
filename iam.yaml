AWSTemplateFormatVersion: "2010-09-09"
Description: "IAM CloudFormation template"

Resources:
  MyIAMUser:
    Type: "AWS::IAM::User"
    Properties:
      UserName: "HannaCFN"
      ManagedPolicyArns:
        - "arn:aws:iam::aws:policy/AdministratorAccess"
  #My IAM Group
  MyIAMGroup:
    Type: 'AWS::IAM::Group'
    Properties:
      GroupName: 'HannaCFN'

   # Attach User to Group
  UserToGroup:   
     Type: 'AWS:;IAM::UserToGroupAddition'
     Properties:
       GroupName: !Ref MyIAMGroup
       Users:
         - !Ref MyIAMUser

   # IAM Role for EC2
  MyIAMRole:
    Type: 'AWS::IAM::Role'
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          -Effect: 'Allow'
          Principle:
            Service:['ec2.amazonaws.com']
          Action:['sts:AssumeRole']    

